![image](https://github.com/ngtuananh24/quanlykhovabanhangCUAHANGLAPTOP/assets/168797690/3d836c40-b514-4c15-9746-8153337ef4e7)# CH∆Ø∆†NG TR√åNH QU·∫¢N L√ù KHO V√Ä B√ÅN C·ª¶A C·ª¨A H√ÄNG LAPTOP88
M√¥ t·∫£ b√†i to√°n qu·∫£n l√Ω: C·ª≠a h√†ng laptop88 l√† m·ªôt trong nh·ªØng chu·ªói c·ª≠a h√†ng b√°n laptop l·ªõn v√† uy t√≠n. C√≥ r·∫•t nhi·ªÅu chi nh√°nh tr√™n c·∫£ n∆∞·ªõc. ƒê·ªÉ qu·∫£n l√Ω chu·ªói c·ª≠a h√†ng nhi·ªÅu nh∆∞ v·∫≠y c·∫ßn s·ª± qu·∫£n l√Ω th·∫≠t t·ªët ƒë·ªÉ ƒë·∫£m b·∫£o l·ª£i nhu·∫≠n v√† doanh thu. Gi√∫p t·ªëi ∆∞u ho√° c√¥ng vi·ªác, gi√∫p b√°o c√°o ch√≠nh x√°c v·ªÅ t√¨nh h√¨nh kinh doanh. B√†i t·∫≠p n√†y s·∫Ω s·ª≠ d·ª•ng ng√¥n ng·ªØ SQL ƒë·ªÉ qu·∫£n l√Ω kho nh·∫≠p - xu·∫•t s·∫£n ph·∫©m v√† vi·ªác b√°n h√†ng c·ªßa c·ªßa h√†ng.

## Nh·ªØng ch·ª©c nƒÉng x√¢y d·ª±ng ƒë·ªÉ qu·∫£n l√Ω kho v√† b√°n h√†ng:
1. Qu·∫£n l√Ω s·∫£n ph·∫©m
- Th√™m, s·ª≠a ƒë·ªïi, xo√° s·∫£n ph·∫©m
- T√¨m ki·∫øn, l·ªçc s·∫£n ph·∫©m theo c√°c ti√™u ch√≠ c·ªßa ng∆∞·ªùi d√πng
- Xem th√¥ng tin chi ti·∫øt t·ª´ng s·∫£n ph·∫©m
- Xem s·ªë l∆∞·ª£ng t·ªìn kho c·ªßa m·ªói s·∫£n ph·∫©m
  
2. Qu·∫£n l√Ω kho
- Khi b√°n s·∫£n ph·∫©m ho·∫∑c nh·∫≠p th√™m s·∫£n ph·∫©m c·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng h√†ng c√≤n l·∫°i trong kho.
- Xem s·ªë l∆∞·ª£ng v√† th·ªëng k√™ s·∫£n ph√¢m h√†ng t·ªìn kho
## Nh·∫≠p xu·∫•t v√† b√°o c√°o c√°c th√¥ng tin li√™n quan ƒë·∫øn kho v√† vi·ªác b√°n h√†ng
1. Nh·∫≠p h√†ng:
- Qu·∫£n l√Ω vi·ªác nh·∫≠p h√†ng t·ª´ nh√† cung c·∫•p v√†o kho h√†ng.
- Ghi nh·∫≠n th√¥ng tin v·ªÅ s·∫£n ph·∫©m, s·ªë l∆∞·ª£ng, gi√° c·∫£ v√† nh√† cung c·∫•p.
- C·∫≠p nh·∫≠t l·∫°i s·ªë h√†ng toofn kho sau m·ªói l·∫ßn b√°n ho·∫∑c nh·∫≠p h√†ng v·ªÅ.
- Theo d√µi ƒë∆°n h√†ng t·ª´ nh√† cung c·∫•p v√† x√°c nh·∫≠n qu·∫£n l√Ω khi h√†ng ƒë√£ v√†o kho.
2. Xu·∫•t h√†ng:
- Qu·∫£n l√Ω vi·ªác xu·∫•t c√°c m·∫∑t h√†ng t·ª´ kho h√†ng ƒë·ªÉ b√°n cho kh√°ch h√†ng.
- Ghi nh·∫≠n th√¥ng tin v·ªÅ s·∫£n ph·∫©m, s·ªë l∆∞·ª£ng, gi√° c·∫£ v√† th√¥ng tin kh√°ch h√†ng.
- C·∫≠p nh·∫≠t t·ªìn kho sau m·ªói l·∫ßn xu·∫•t h√†ng.
- Theo d√µi ƒë∆°n h√†ng v√† x√°c nh·∫≠n khi ƒë√£ ƒë∆∞·ª£c giao.
3. B√°o c√°o
- B√°o c√°o v·ªÅ doanh thu theo ng√†y, doanh thu theo th√°ng,... gi√∫p qu·∫£n l√Ω ƒë∆∞·ª£c l·ª£i nhu·∫≠n.
- T·∫°o v√† xem b√°o c√°o ho·∫°t ƒë·ªông kinh doanh c·ªßa c·ª≠a h√†ng, s·ªë l∆∞·ª£ng h√†ng t·ªìn kho nhi·ªÅu nh·∫•t, s·ªë l∆∞·ª£ng h√†ng b√°n ch·∫°y nh·∫•t,....
  
1. S·∫£n ph·∫©m s·∫Ω qu·∫£n l√Ω nh·ªØng th√¥ng tin nh∆∞: üîëM√£ s·∫£n ph·∫©m, t√™n s·∫£n ph·∫©m, th∆∞∆°ng hi·ªáu, m·∫´u, th√¥ng s·ªë, gi√°, s·ªë l∆∞·ª£ng c√≤n l·∫°i.
2. Kh√°ch h√†ng: üîëM√£ kh√°ch h√†ng, t√™n kh√°ch h√†ng, s·ªë ƒëi·ªán tho·∫°i,ƒë·ªãa ch·ªâ.
3. ƒê∆°n h√†ng: üîëM√£ ƒë∆°n h√†ng, m√£ kh√°ch h√†ng, ng√†y ƒë·∫∑t h√†ng, t·ªïng ti·ªÅn.
4. Chi ti·∫øt ƒë∆°n h√†ng: üîëM√£ chi ti·∫øt ƒë∆°n h√†ng, m√£ ƒë∆°n h√†ng, m√£ s·∫£n ph·∫©m, s·ªë l∆∞·ª£ng, gi√°.
5. Nh√† cung c·∫•p: üîëM√£ nh√† cung c·∫•p, t√™n nh√† cung c·∫•p, t√™n ng∆∞·ªùi li√™n h·ªá, s·ªë ƒëi·ªán tho·∫°i ng∆∞·ªùi li√™n h·ªá, ƒë·ªãa ch·ªâ.
6. Danh m·ª•c: üîëM√£ danh m·ª•c, t√™n danh m·ª•c.
7. Giao D·ªãch kho: üîëM√£ giao d·ªãch, m√£ s·∫£n ph·∫©m, s·ªë l∆∞·ª£ng, ng√†y giao d·ªãch, lo·∫°i giao d·ªãch.
   
Nh∆∞ v·∫≠y, d·ª±a theo nh·ªØng th√¥ng tin m√† ta ƒë√£ thu th·∫≠p ƒë∆∞·ª£c ch√∫ng ta s·∫Ω x√¢y d·ª±ng c√°c b·∫£ng ƒë√°p ·ª©ng y√™u c·∫ßu qu·∫£n l√Ω c·ªßa c·ªßa h√†ng laptop88.

T·∫°o c√°c b·∫£ng nh∆∞ m√¥ t·∫£ trong SQL Sever:
1. B·∫£ng S·∫£n Ph·∫©m
   
![image](https://github.com/ngtuananh24/quanlykhovabanhangCUAHANGLAPTOP/assets/168797690/7859b2ac-35ef-45b4-8565-b449629f3f91)

2. B·∫£ng Kh√°ch H√†ng

![image](https://github.com/ngtuananh24/quanlykhovabanhangCUAHANGLAPTOP/assets/168797690/40b42ca9-9d15-4cba-a28e-ae91afa9ed53)

3. B·∫£ng ƒê∆°n H√†ng 

![image](https://github.com/ngtuananh24/quanlykhovabanhangCUAHANGLAPTOP/assets/168797690/79c004e4-4187-4dc2-9fe4-95c32e51db23)

4. B·∫£ng Chi ti·∫øt ƒë∆°n h√†ng

![image](https://github.com/ngtuananh24/quanlykhovabanhangCUAHANGLAPTOP/assets/168797690/1354b432-1e09-48e9-957c-537298cc097b)

5. B·∫£ng Nh√† Cung C·∫•p

![image](https://github.com/ngtuananh24/quanlykhovabanhangCUAHANGLAPTOP/assets/168797690/1f87356d-7d0d-49bc-9c33-a3ae00e338ad)

6. B·∫£ng danh m·ª•c

![image](https://github.com/ngtuananh24/quanlykhovabanhangCUAHANGLAPTOP/assets/168797690/d10efd30-6977-44d5-b259-87e511193b6e)

7. Giao d·ªãch kho

![image](https://github.com/ngtuananh24/quanlykhovabanhangCUAHANGLAPTOP/assets/168797690/ae843c0b-c46d-4650-b062-1435ef5729a6)

T·∫°o s∆° ƒë·ªì th·ª±c th·ªÉ li√™n k·∫øt gi·ªØa c√°c b·∫£ng
![image](https://github.com/ngtuananh24/quanlykhovabanhangCUAHANGLAPTOP/assets/168797690/0cb4ae05-4722-4a9f-a839-68f60e8109d7)


Th√™m d·ªØ li·ªáu v√†o c√°c b·∫£ng
1. D·ªØ li·ªáu th√™m v√†o b·∫£ng SanPham
```
INSERT INTO SanPham (MaSanPham, TenSanPham, ThuongHieu, Mau, ThongSo, Gia, SoLuongConLai, MaDanhMuc, MaNhaCC) VALUES
('K1', 'Laptop A1', 'BrandA', 'ƒêen', 'CPU: i5, RAM: 8GB, SSD: 256GB, M√†n h√¨nh: 14 inch', 15000000, 30, 'D1', 'NCC1'),
('K2', 'Laptop A2', 'BrandA', 'X√°m', 'CPU: i7, RAM: 16GB, SSD: 512GB, M√†n h√¨nh: 15.6 inch', 25000000, 20, 'D1', 'NCC1'),
('K3', 'Laptop B1', 'BrandB', 'Tr·∫Øng', 'CPU: Ryzen 5, RAM: 8GB, SSD: 512GB, M√†n h√¨nh: 14 inch', 14000000, 50, 'D2', 'NCC2'),
('K4', 'Laptop B2', 'BrandB', 'ƒêen', 'CPU: Ryzen 7, RAM: 16GB, SSD: 1TB, M√†n h√¨nh: 15.6 inch', 27000000, 15, 'D2', 'NCC2'),
('K5', 'Laptop C1', 'BrandC', 'Xanh', 'CPU: i3, RAM: 4GB, HDD: 1TB, M√†n h√¨nh: 14 inch', 10000000, 40, 'D1', 'NCC3'),
('K6', 'Laptop C2', 'BrandC', 'ƒê·ªè', 'CPU: i5, RAM: 8GB, SSD: 256GB, M√†n h√¨nh: 14 inch', 18000000, 25, 'D1', 'NCC3'),
('K7', 'Laptop D1', 'BrandD', 'ƒêen', 'CPU: Ryzen 5, RAM: 8GB, SSD: 512GB, M√†n h√¨nh: 14 inch', 16000000, 35, 'D3', 'NCC4'),
('K8', 'Laptop D2', 'BrandD', 'X√°m', 'CPU: i7, RAM: 16GB, SSD: 1TB, M√†n h√¨nh: 15.6 inch', 29000000, 10, 'D3', 'NCC4'),
('K9', 'Laptop E1', 'BrandE', 'Tr·∫Øng', 'CPU: i5, RAM: 8GB, SSD: 256GB, M√†n h√¨nh: 14 inch', 17000000, 20, 'D2', 'NCC5'),
('K10', 'Laptop E2', 'BrandE', 'ƒêen', 'CPU: Ryzen 7, RAM: 16GB, SSD: 1TB, M√†n h√¨nh: 15.6 inch', 30000000, 15, 'D2', 'NCC5'); 
```

2. D·ªØ li·ªáu th√™m v√†o b·∫£ng Khach Hang
```
INSERT INTO KhachHang (MaKhachHang, TenKhachHang, DiaChi, SoDienThoai) VALUES ('KH1', 'Nguy·ªÖn VƒÉn Anh', 'S·ªë 123, ƒê∆∞·ªùng ABC, Qu·∫≠n XYZ, Th√†nh ph·ªë HCM', '0123456789'),
('KH2', 'Tr·∫ßn Th·ªã B√¨nh', 'S·ªë 456, ƒê∆∞·ªùng DEF, Qu·∫≠n UVW, Th√†nh ph·ªë Hanoi', '0987654321'),
('KH3', 'L√™ VƒÉn Cung', 'S·ªë 789, ƒê∆∞·ªùng GHI, Qu·∫≠n RST, Th√†nh ph·ªë ƒê√† N·∫µng', '0365478921'),
('KH4', 'Ph·∫°m Th·ªã Dung', 'S·ªë 012, ƒê∆∞·ªùng JKL, Qu·∫≠n MNO, Th√†nh ph·ªë H·∫£i Ph√≤ng', '0932145678');
```
3. D·ªØ li·ªáu th√™m v√†o b·∫£ng ƒë∆°n h√†ng

```
INSERT INTO DonHang (MaDonHang, MaKhachHang, NgayDat,TongTien)
VALUES
('DH1', 'KH1', '2024-06-12','100000'),
('DH2', 'KH2', '2024-06-13','123456'),
('DH3', 'KH3', '2024-06-14','245654'),
('DH4', 'KH4', '2024-06-15','135768');
```
4. Th√™m d·ªØ li·ªáu v√†o b·∫£ng ChiTietDonHang
```
INSERT INTO ChiTietDonHang(MaChiTietDonHang,MaDonHang,MaSanPham,SoLuong,Gia)
VALUES 
('M10', 'DH1', 'K1', 2, 15000000),
('M11', 'DH1', 'K2', 1, 25000000),
('M12', 'DH2', 'K3', 3, 14000000),
('M13', 'DH3', 'K4', 1, 27000000),
('M14', 'DH3', 'K5', 2, 10000000),
('M15', 'DH4', 'K6', 1, 18000000);
```
5. Th√™m d·ªØ li·ªáu v√†o b·∫£ng NhaCungCap
```
INSERT INTO NhaCungCap (MaNhaCC, TenNCC, TenNguoiLienHe, DiaChi) VALUES
('NCC1', N'C√¥ng ty A', N'Nguy·ªÖn VƒÉn A', N'123 ƒê∆∞·ªùng ABC, Qu·∫≠n XYZ, Th√†nh ph·ªë HCM'),
('NCC2', N'C√¥ng ty B', N'Tr·∫ßn Th·ªã B', N'456 ƒê∆∞·ªùng DEF, Qu·∫≠n UVW, Th√†nh ph·ªë Hanoi'),
('NCC3', N'C√¥ng ty C', N'L√™ VƒÉn C', N'789 ƒê∆∞·ªùng GHI, Qu·∫≠n RST, Th√†nh ph·ªë ƒê√† N·∫µng');
```
6. Th√™m d·ªØ li·ªáu v√†o b·∫£ng Danh M·ª•c
```
INSERT INTO DanhMuc(MaDanhMuc,TenDanhMuc) VALUES
('D1','Danh muc 1'),
('D2','Danh muc 2'),
('D3','Danh muc 3');
```

8. Th√™m d·ªØ li·ªáu v√†o b·∫£ng GiaoDichKho
```
INSERT INTO GiaoDichKho(MaGiaoDichKho,MaSanPham,SoLuong,NgayGiaoDich,LoaiGiaoDich,MaNCC) VALUES
('GD1', 'K1', 10, '2024-06-12', N'Nh·∫≠p h√†ng', 'NCC1'),
('GD2', 'K2', 5, '2024-06-13', N'Nh·∫≠p h√†ng', 'NCC2'),
('GD3', 'K3', 8, '2024-06-14', N'Nh·∫≠p h√†ng', 'NCC3'),
('GD4', 'K4', 15, '2024-06-15', N'Nh·∫≠p h√†ng', 'NCC1'),
('GD5', 'K5', 20, '2024-06-16', 'Nh·∫≠p h√†ng', 'NCC2'),
('GD6', 'K6', 12, '2024-06-17', 'Nh·∫≠p h√†ng', 'NCC3'),
('GD7', 'K7', 25, '2024-06-18', 'Nh·∫≠p h√†ng', 'NCC1'),
('GD8', 'K8', 18, '2024-06-19', 'Nh·∫≠p h√†ng', 'NCC2');
```

## X√ÇY D·ª∞NG C√ÅC TH·ª¶ T·ª§C THEO C√ÅC CH·ª®C NƒÇNG MONG MU·ªêN
1. Qu·∫£n l√Ω vi·ªác b√°n h√†ng
- Th√™m, s·ª≠a, xo√° s·∫£n ph·∫©m
- T√¨m ki·∫øm s·∫£n ph·∫©m, l·ªçc s·∫£n ph·∫©m theo c√°c ti√™u ch√≠ c·ªßa ng∆∞·ªùi qu·∫£n l√Ω ho·∫∑c c·ªßa kh√°ch h√†ng
- Xem th√¥ng tin ch·ªâ ti·∫øt m·ªói s·∫£n ph·∫©m
- Doanh thu c·ªßa m·ªôt ng√†y, m·ªôt th√°ng,...
- S·ªë l∆∞·ª£ng s·∫£n ph·∫©m b√°n ch·∫°y nh·∫•t.
2. Qu·∫£n l√Ω kho 
- Th·ªëng k√™ s·ªë l∆∞·ª£ng h√†ng trong kho
- B√°o c√°o t√¨nh tr·∫°ng h√†ng trong kho, s·ªë h√†ng t·ªìn, s·ªë h√†ng ƒë√£ h·∫øt ch∆∞a nh·∫≠p v·ªÅ.

-------------------------
1. Qu·∫£n l√Ω vi·ªác b√°n h√†ng
- TH√äM S·∫¢N PH·∫®M:
![image](https://github.com/ngtuananh24/quanlykhovabanhangCUAHANGLAPTOP/assets/168797690/4e620bb6-1d7f-47db-b18c-58df5190091c)

```
---T·∫†O TH·ª¶ T·ª§C TH√äM S·∫¢N PH·∫®M M·ªöI 
CREATE PROCEDURE themsanpham
@TenSanPham nvarchar(50),
@ThuongHieu nvarchar(50),
@Mau nvarchar(50),
@ThongSo nvarchar(MAX),
@Gia decimal(10, 2),
@SoLuongConLai int,
@MaDanhMuc nvarchar(50),
@MaNhaCC nvarchar(50)

AS 
BEGIN 
SET NOCOUNT ON;
INSERT INTO SanPham (TenSanPham,ThuongHieu,Mau,ThongSo,Gia,SoLuongConLai,MaDanhMuc,MaNhaCC) 
VALUES (@TenSanPham,@ThuongHieu,@Mau,@ThongSo,@Gia,@SoLuongConLai,@MaDanhMuc,@MaNhaCC);
end
```

- S·ª≠ d·ª•ng th·ªß t·ª•c:
![image](https://github.com/ngtuananh24/quanlykhovabanhangCUAHANGLAPTOP/assets/168797690/b8ed82c9-e3d0-4ed1-a1ee-8f7512252492)

```
EXEC themsanpham 
    @MaSanPham = 'M12',
    @TenSanPham = N'Laptop A',
    @ThuongHieu = N'BrandX',
    @Mau = N'Den',
    @ThongSo = N'Intel Core i7, 16GB RAM, 512GB SSD',
    @Gia = 1500.00,
    @SoLuongConLai = 10,
    @MaDanhMuc = 'D3',
    @MaNhaCC = 'NCC3';
```
S·∫£n ph·∫©m ƒë√£ ƒë∆∞·ª£c th√™m v√†o th√†nh c√¥ng 
![image](https://github.com/ngtuananh24/quanlykhovabanhangCUAHANGLAPTOP/assets/168797690/ca3ba401-4767-4ffd-b23c-ecebb5217ea4)


- XO√Å S·∫¢N PH·∫®M
  ![image](https://github.com/ngtuananh24/quanlykhovabanhangCUAHANGLAPTOP/assets/168797690/e1e5e0cf-0152-4115-a957-1c7a60bffb29)

```
CREATE PROCEDURE XoaSanPham
    @MaSanPham NVARCHAR(50)
AS 
BEGIN
    SET NOCOUNT ON;

    BEGIN TRY
        -- Ki·ªÉm tra xem s·∫£n ph·∫©m c√≥ t·ªìn t·∫°i hay kh√¥ng
        IF EXISTS (SELECT 1 FROM SanPham WHERE MaSanPham = @MaSanPham)
        BEGIN 
            -- X√≥a s·∫£n ph·∫©m kh·ªèi b·∫£ng SanPham
            DELETE FROM SanPham WHERE MaSanPham = @MaSanPham;
        END 
        ELSE 
        BEGIN
            -- N·∫øu s·∫£n ph·∫©m kh√¥ng t·ªìn t·∫°i, ƒë∆∞a ra th√¥ng b√°o l·ªói
            RAISERROR('S·∫£n ph·∫©m v·ªõi MaSanPham = %s kh√¥ng t·ªìn t·∫°i.', 16, 1, @MaSanPham);
        END
    END TRY
    BEGIN CATCH
        -- X·ª≠ l√Ω l·ªói
        DECLARE @ErrorMessage NVARCHAR(4000);
        DECLARE @ErrorSeverity INT;
        DECLARE @ErrorState INT;

        SELECT 
            @ErrorMessage = ERROR_MESSAGE(),
            @ErrorSeverity = ERROR_SEVERITY(),
            @ErrorState = ERROR_STATE();

        RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState);
    END CATCH;
END;
```
Th·ª≠ nghi·ªám th·ªß t·ª•c
```
EXEC XoaSanPham @MaSanPham = N'M12';
```
ƒê√£ Xo√° th√†nh c√¥ng


- C·∫¨P NH·∫¨T S·∫¢N PH·∫®M
```
---T·∫†O TH·ª¶ T·ª§C C·∫¨P NH·∫¨T S·∫¢N PH·∫®M 
CREATE PROCEDURE capnhatsanpham
@MaSanPham nvarchar(50),
@TenSanPham nvarchar(50),
@ThuongHieu nvarchar(50),
@Mau nvarchar(50),
@ThongSo nvarchar(MAX),
@Gia decimal(10, 2),
@SoLuongConLai int,
@MaDanhMuc nvarchar(50),
@MaNhaCC nvarchar(50)

AS
BEGIN
    SET NOCOUNT ON;

    BEGIN TRY
        -- Ki·ªÉm tra xem s·∫£n ph·∫©m c√≥ t·ªìn t·∫°i hay kh√¥ng
        IF EXISTS (SELECT 1 FROM SanPham WHERE MaSanPham = @MaSanPham)
        BEGIN 
            -- C·∫≠p nh·∫≠t th√¥ng tin s·∫£n ph·∫©m
            UPDATE SanPham
            SET 
                TenSanPham = COALESCE(@TenSanPham, TenSanPham),
                ThuongHieu = COALESCE(@ThuongHieu, ThuongHieu),
                Mau = COALESCE(@Mau, Mau),
                ThongSo = COALESCE(@ThongSo, ThongSo),
                Gia = COALESCE(@Gia, Gia),
                SoLuongConLai = COALESCE(@SoLuongConLai, SoLuongConLai),
                MaDanhMuc = COALESCE(@MaDanhMuc, MaDanhMuc),
                MaNhaCC = COALESCE(@MaNhaCC, MaNhaCC)
            WHERE MaSanPham = @MaSanPham;
        END 
        ELSE 
        BEGIN
            -- N·∫øu s·∫£n ph·∫©m kh√¥ng t·ªìn t·∫°i, ƒë∆∞a ra th√¥ng b√°o l·ªói
            RAISERROR('S·∫£n ph·∫©m v·ªõi MaSanPham = %s kh√¥ng t·ªìn t·∫°i.', 16, 1, @MaSanPham);
        END
    END TRY
    BEGIN CATCH
        -- X·ª≠ l√Ω l·ªói
        DECLARE @ErrorMessage NVARCHAR(4000);
        DECLARE @ErrorSeverity INT;
        DECLARE @ErrorState INT;

        SELECT 
            @ErrorMessage = ERROR_MESSAGE(),
            @ErrorSeverity = ERROR_SEVERITY(),
            @ErrorState = ERROR_STATE();

        RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState);
    END CATCH;
END;
```
K·∫øt qu·∫£ th·ª±c nghi·ªám th·ªß t·ª•c:
```
EXEC capnhatsanpham
    @MaSanPham = N'K10',
    @TenSanPham = N'LapTop Dell gameming G5',
    @Gia = 1600.00,
	@Mau = 'Gaming',
	@ThongSo = 'i5 1050H',
	@ThuongHieu = 'mau xanh',
    @SoLuongConLai = 8,
	@MaDanhMuc = 'D3',
	@MaNhaCC = 'NCC5';
```
![image](https://github.com/ngtuananh24/quanlykhovabanhangCUAHANGLAPTOP/assets/168797690/9faeace7-6d85-4e0a-afe8-1bb0ba56cc19)

S·∫£n ph·∫©m ƒë∆∞·ª£c c·∫≠p nh·∫≠t th√†nh c√¥ng 

- X√¢y d·ª±ng th·ªß t·ª•c t√¨m ki·∫øm s·∫£n ph·∫©m theo y√™u c·∫ßu c·ªßa kh√°ch h√†ng ho·∫∑c c·ªßa ng∆∞·ªùi qu·∫£n l√Ω d·ª±a v√†o c√°c th√¥ng s·ªë: T√™n S·∫£n Ph·∫©m, Th∆∞∆°ng Hi·ªáu, M·∫´u,....
```
---T·∫†O TH·ª¶ T·ª§C T√åM KI·∫æM S·∫¢N PH·∫®M D·ª∞A V√ÄO C√ÅC Y√äU C·∫¶U-----
CREATE PROCEDURE timkiemsanpham
    @MaSanPham NVARCHAR(50) = NULL,
    @TenSanPham NVARCHAR(50) = NULL,
    @ThuongHieu NVARCHAR(50) = NULL,
    @Mau NVARCHAR(50) = NULL,
    @ThongSo NVARCHAR(MAX) = NULL,
    @MaDanhMuc NVARCHAR(50) = NULL,
    @MaNhaCC NVARCHAR(50) = NULL
AS
BEGIN
    SET NOCOUNT ON;

    SELECT *
    FROM SanPham
    WHERE 
        (MaSanPham = ISNULL(@MaSanPham, MaSanPham))
        AND (TenSanPham LIKE '%' + ISNULL(@TenSanPham, '') + '%')
        AND (ThuongHieu LIKE '%' + ISNULL(@ThuongHieu, '') + '%')
        AND (Mau LIKE '%' + ISNULL(@Mau, '') + '%')
        AND (ThongSo LIKE '%' + ISNULL(@ThongSo, '') + '%')
        AND (MaDanhMuc = ISNULL(@MaDanhMuc, MaDanhMuc))
        AND (MaNhaCC = ISNULL(@MaNhaCC, MaNhaCC));
END;
```

- Th·ª±c nghi·ªám th·ªß t·ª•c t√¨m ki·∫øm s·∫£n ph·∫©m
![image](https://github.com/ngtuananh24/quanlykhovabanhangCUAHANGLAPTOP/assets/168797690/9be40117-5e99-4d4e-a4a8-209d220166ac)

- XEM TH√îNG TIN CHI TI·∫æT M·ªñI S·∫¢N PH·∫®M
```SQL
---- XEM THONG TIN CHI TIET MOI SAN PHAM
CREATE PROCEDURE xemchitietsanpham
    @MaSanPham NVARCHAR(50) = NULL,
    @TenSanPham NVARCHAR(50) = NULL,
    @ThuongHieu NVARCHAR(50) = NULL,
    @Mau NVARCHAR(50) = NULL,
    @ThongSo NVARCHAR(MAX) = NULL,
    @MaDanhMuc NVARCHAR(50) = NULL,
    @MaNhaCC NVARCHAR(50) = NULL

AS
BEGIN 
SET NOCOUNT ON;
SELECT * FROM SanPham WHERE MaSanPham = @MaSanPham;
END
```
K·∫øt qu·∫£ th·ª±c nghi·ªám:

![image](https://github.com/ngtuananh24/quanlykhovabanhangCUAHANGLAPTOP/assets/168797690/524fc3b6-62e5-4c1c-895f-22c4165c462c)


- X√ÇY D·ª∞NG TH·ª¶ T·ª§C TINMHS DOANH THU TRONG 1 NG√ÄY
```SQL
---- xay dung thu tuc tinh doanh thu 1 ngay
CREATE PROCEDURE xemdoanhthu1ngay
    @Ngay DATE
AS
BEGIN
    SET NOCOUNT ON
    DECLARE @DoanhThu DECIMAL(10, 2);

    SELECT @DoanhThu = SUM(TongTien)
    FROM DonHang
    WHERE NgayDat = @Ngay;

    SELECT @Ngay AS Ngay, ISNULL(@DoanhThu, 0) AS DoanhThu;
END;

```

K·∫øt qu·∫£ th·ª±c nghi·ªám ch∆∞∆°ng tr√¨nh
![image](https://github.com/ngtuananh24/quanlykhovabanhangCUAHANGLAPTOP/assets/168797690/8e91cd94-ccd5-41e0-bcfd-bb5f1a118d02)

- X√ÇY D·ª∞NG TH·ª¶ T·ª§C TH·ªêNG K√ä 

```SQL
-- T√¨m s·∫£n ph·∫©m b√°n ch·∫°y nh·∫•t trong 1 th√°ng
CREATE PROCEDURE sanphambanchaynhattrongthang
    @Thang INT,
    @Nam INT
AS
BEGIN
    SET NOCOUNT ON; -- T·∫Øt th√¥ng b√°o s·ªë b·∫£n ghi b·ªã ·∫£nh h∆∞·ªüng

    -- Khai b√°o bi·∫øn ƒë·ªÉ l∆∞u ng√†y b·∫Øt ƒë·∫ßu v√† ng√†y k·∫øt th√∫c c·ªßa th√°ng c·∫ßn th·ªëng k√™
    DECLARE @StartDate DATE, @EndDate DATE;
    SET @StartDate = DATEFROMPARTS(@Nam, @Thang, 1); -- Ng√†y ƒë·∫ßu ti√™n c·ªßa th√°ng
    SET @EndDate = DATEADD(DAY, -1, DATEADD(MONTH, 1, @StartDate)); -- Ng√†y cu·ªëi c√πng c·ªßa th√°ng

    -- S·ª≠ d·ª•ng CTE ƒë·ªÉ t√≠nh t·ªïng s·ªë l∆∞·ª£ng s·∫£n ph·∫©m b√°n ra v√† l·∫•y s·∫£n ph·∫©m b√°n ch·∫°y nh·∫•t
    WITH BanChayNhat AS (
        SELECT TOP 1
            CT.MaSanPham, -- M√£ s·∫£n ph·∫©m
            SUM(CT.SoLuong) AS TongSoLuongBan -- T·ªïng s·ªë l∆∞·ª£ng s·∫£n ph·∫©m b√°n ra
        FROM ChiTietDonHang CT
        INNER JOIN DonHang DH ON CT.MaDonHang = DH.MaDonHang
        WHERE DH.NgayDat >= @StartDate AND DH.NgayDat <= @EndDate -- ƒêi·ªÅu ki·ªán: ƒê∆°n h√†ng trong th√°ng
        GROUP BY CT.MaSanPham -- Nh√≥m theo m√£ s·∫£n ph·∫©m
        ORDER BY SUM(CT.SoLuong) DESC -- S·∫Øp x·∫øp gi·∫£m d·∫ßn theo t·ªïng s·ªë l∆∞·ª£ng b√°n
    )
    -- Truy v·∫•n ƒë·ªÉ l·∫•y th√¥ng tin chi ti·∫øt c·ªßa s·∫£n ph·∫©m b√°n ch·∫°y nh·∫•t
    SELECT 
        BC.MaSanPham, -- M√£ s·∫£n ph·∫©m
        SP.TenSanPham, -- T√™n s·∫£n ph·∫©m
        SP.ThuongHieu, -- Th∆∞∆°ng hi·ªáu
        SP.Mau, -- M√†u s·∫Øc
        SP.ThongSo, -- Th√¥ng s·ªë k·ªπ thu·∫≠t
        SP.Gia, -- Gi√° s·∫£n ph·∫©m
        SP.SoLuongConLai -- S·ªë l∆∞·ª£ng c√≤n l·∫°i trong kho
    FROM BanChayNhat BC
    INNER JOIN SanPham SP ON BC.MaSanPham = SP.MaSanPham; -- Li√™n k·∫øt v·ªõi b·∫£ng SanPham ƒë·ªÉ l·∫•y th√¥ng tin chi ti·∫øt
END;

```
K·∫øt qu·∫£ th·ª±c nghi·ªám ch∆∞∆°ng tr√¨nh
![image](https://github.com/ngtuananh24/quanlykhovabanhangCUAHANGLAPTOP/assets/168797690/d8abb7f3-2a8a-4cdd-9743-df641d66e013)













